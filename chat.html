
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ“</text></svg>">
<title>AI Student Dropout Dashboard</title>

<style>
body{
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#0f172a,#1e3a8a,#0e7490);
  color:white;
}

.container{
  width:90%;
  max-width:1300px;
  margin:auto;
  padding:40px 0;
}

.top-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}

.export-btn{
  padding:12px 20px;
  background:linear-gradient(to right,#00f5ff,#008cff);
  border:none;
  border-radius:10px;
  font-weight:bold;
  color:white;
  cursor:pointer;
  transition:0.3s;
}

.export-btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 15px cyan;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:40px;
}

.card{
  background: rgba(255,255,255,0.08);
  padding:30px;
  border-radius:15px;
  backdrop-filter: blur(12px);
}

.section-title{
  margin-top:20px;
  margin-bottom:10px;
  font-size:18px;
  font-weight:bold;
  color:#00f5ff;
  border-bottom:1px solid rgba(255,255,255,0.2);
  padding-bottom:5px;
}

label{
  display:block;
  margin-bottom:5px;
  font-weight:600;
  letter-spacing:0.5px;
  color:#cbd5e1;
}

input,select{
  width:100%;
  padding:10px;
  margin-bottom:15px;
  border-radius:8px;
  border:none;
  outline:none;
  background:rgba(255,255,255,0.12);
  color:rgb(219, 219, 225);
  transition:0.3s;
}

input:focus,select:focus{
  box-shadow:0 0 10px #00f5ff;
}

.predict-btn{
  width:100%;
  padding:15px;
  border:none;
  border-radius:10px;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
  background:linear-gradient(to right,#00f5ff,#008cff);
  color:white;
  transition:0.3s;
}

.predict-btn:hover{
  transform:scale(1.05);
}

.result{
  display:none;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
}

.high{
  background:rgba(255,0,0,0.2);
  border:1px solid red;
  box-shadow:0 0 25px red;
}

.low{
  background:rgba(0,255,0,0.2);
  border:1px solid #00ff88;
  box-shadow:0 0 25px #00ff88;
}
</style>
</head>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<body>

<button class="back-btn" onclick="goHome()" style="
.back-btn{
  position:absolute;
  top:20px;
  left:20px;
  padding:10px 20px;
  border-radius:20px;
  border:1px solid #00f5ff;
  background:transparent;
  color:#00f5ff;
  cursor:pointer;
}
  ">â¬… Back to Home</button>

<div class="container">
  <script>function goHome(){
  window.location.href = "index.html";
}</script>

  <div class="top-bar">
    <h2>ðŸš€ AI Student Dropout Prediction System</h2>
    <button class="export-btn" onclick="exportReport()">Export Report</button>
  </div>

  <div class="grid">

    <!-- FORM SECTION -->
    <div class="card">

      <form id="dropoutForm">

        <div class="section-title">Basic Information</div>

        <label>Name of Student</label>
        <input type="text" id="name" required>

        <label>Age at Enrollment</label>
        <input type="number" id="age" required>

        <label>Gender</label>
        <select id="gender" required>
          <option value="">Select</option>
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
        </select>

        <label>Marital Status</label>
        <select id="marital" required>
          <option value="">Select</option>
          <option>Single</option>
          <option>Married</option>
          <option>Divorced</option>
        </select>

        <div class="section-title">Financial Information</div>

        <label>Tuition Fees Up to Date</label>
        <select id="tuition" required>
          <option value="">Select</option>
          <option>Yes</option>
          <option>No</option>
        </select>

        <label>Scholarship Holder</label>
        <select id="scholarship" required>
          <option value="">Select</option>
          <option>Yes</option>
          <option>No</option>
        </select>

        <label>Debtor</label>
        <select id="debtor" required>
          <option value="">Select</option>
          <option>Yes</option>
          <option>No</option>
        </select>

        <div class="section-title">Academic Performance</div>

        <label>1st Semester Grade</label>
        <input type="number" step="0.01" id="sem1" required>

        <label>2nd Semester Grade</label>
        <input type="number" step="0.01" id="sem2" required>

        <label>Approved Units (1st Semester)</label>
        <input type="number" id="units1" required>

        <label>Approved Units (2nd Semester)</label>
        <input type="number" id="units2" required>

        <div class="section-title">Family Background</div>

        <label>Mother's Qualification</label>
        <select id="motherQ" required>
          <option value="">Select</option>
          <option>Primary</option>
          <option>Secondary</option>
          <option>Graduate</option>
          <option>Postgraduate</option>
        </select>

        <label>Father's Qualification</label>
        <select id="fatherQ" required>
          <option value="">Select</option>
          <option>Primary</option>
          <option>Secondary</option>
          <option>Graduate</option>
          <option>Postgraduate</option>
        </select>

        <label>Mother's Occupation</label>
        <select id="motherO" required>
          <option value="">Select</option>
          <option>Unemployed</option>
          <option>Private Job</option>
          <option>Government Job</option>
          <option>Business</option>
        </select>

        <label>Father's Occupation</label>
        <select id="fatherO" required>
          <option value="">Select</option>
          <option>Unemployed</option>
          <option>Private Job</option>
          <option>Government Job</option>
          <option>Business</option>
        </select>

        <button type="submit" class="predict-btn">Predict Dropout Risk</button>

      </form>
    </div>

    <!-- RESULT SECTION -->
    <div class="card">
      <div id="resultBox" class="result">
        <h2 id="resultTitle"></h2>
        <p id="resultMessage"></p>
      </div>
    </div>

  </div>
</div>

<script>

let lastPrediction = "";

document.getElementById("dropoutForm").addEventListener("submit",function(e){
  e.preventDefault();

  let sem1 = parseFloat(document.getElementById("sem1").value);
  let sem2 = parseFloat(document.getElementById("sem2").value);
  let avg = (sem1 + sem2)/2;

  let resultBox = document.getElementById("resultBox");
  let resultTitle = document.getElementById("resultTitle");
  let resultMessage = document.getElementById("resultMessage");

  resultBox.style.display="block";

  if(avg < 12){
    resultBox.className="result high";
    resultTitle.innerHTML="âš  HIGH DROPOUT RISK";
    resultMessage.innerHTML="Student requires academic and financial intervention.";
    lastPrediction="High Risk";
  }else{
    resultBox.className="result low";
    resultTitle.innerHTML="âœ… LOW DROPOUT RISK";
    resultMessage.innerHTML="Student shows strong academic stability.";
    lastPrediction="Low Risk";
  }

});


async function exportReport(){

  if(lastPrediction === ""){
    alert("Please generate prediction first.");
    return;
  }

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  // Fetch values
  let name = document.getElementById("name").value;
  let age = document.getElementById("age").value;
  let gender = document.getElementById("gender").value;
  let marital = document.getElementById("marital").value;

  let tuition = document.getElementById("tuition").value;
  let scholarship = document.getElementById("scholarship").value;
  let debtor = document.getElementById("debtor").value;

  let sem1 = document.getElementById("sem1").value;
  let sem2 = document.getElementById("sem2").value;
  let units1 = document.getElementById("units1").value;
  let units2 = document.getElementById("units2").value;

  let motherQ = document.getElementById("motherQ").value;
  let fatherQ = document.getElementById("fatherQ").value;
  let motherO = document.getElementById("motherO").value;
  let fatherO = document.getElementById("fatherO").value;

  let y = 20;

  // Title
  doc.setFontSize(18);
  doc.text("Student Dropout Risk Analysis", 105, y, { align: "center" });

  y += 10;
  doc.setFontSize(10);
  doc.text("Generated: AI-Powered Analysis", 105, y, { align: "center" });

  y += 15;

  doc.setFontSize(12);
  doc.setFont(undefined, "bold");
  doc.text("Student Information", 14, y);
  y += 8;
  doc.setFont(undefined, "normal");

  doc.text(`Name: ${name}`, 14, y);
  doc.text(`Age at Enrollment: ${age}`, 110, y);
  y += 8;
  doc.text(`Gender: ${gender}`, 14, y);
  doc.text(`Marital Status: ${marital}`, 110, y);

  y += 15;

  doc.setFont(undefined, "bold");
  doc.text("Financial Status", 14, y);
  y += 8;
  doc.setFont(undefined, "normal");

  doc.text(`Tuition Fee Status: ${tuition}`, 14, y);
  doc.text(`Scholarship Holder: ${scholarship}`, 110, y);
  y += 8;
  doc.text(`Debtor Status: ${debtor}`, 14, y);

  y += 15;

  doc.setFont(undefined, "bold");
  doc.text("Academic Performance", 14, y);
  y += 8;
  doc.setFont(undefined, "normal");

  doc.text(`Semester 1 Grade: ${sem1}`, 14, y);
  doc.text(`Semester 2 Grade: ${sem2}`, 110, y);
  y += 8;
  doc.text(`Approved Units (Sem 1): ${units1}`, 14, y);
  doc.text(`Approved Units (Sem 2): ${units2}`, 110, y);

  y += 15;

  doc.setFont(undefined, "bold");
  doc.text("Parental Background", 14, y);
  y += 8;
  doc.setFont(undefined, "normal");

  doc.text(`Mother's Qualification: ${motherQ}`, 14, y);
  doc.text(`Father's Qualification: ${fatherQ}`, 110, y);
  y += 8;
  doc.text(`Mother's Occupation: ${motherO}`, 14, y);
  doc.text(`Father's Occupation: ${fatherO}`, 110, y);

  y += 20;

  doc.setFont(undefined, "bold");
  doc.text("AI Risk Assessment", 14, y);
  y += 10;
  doc.setFont(undefined, "normal");

  if(lastPrediction === "High Risk"){
      doc.setTextColor(200, 0, 0);
      doc.text("High Dropout Risk Detected", 14, y);
      doc.setTextColor(0, 0, 0);
  } else {
      doc.setTextColor(0, 150, 0);
      doc.text("Low Dropout Risk Detected", 14, y);
      doc.setTextColor(0, 0, 0);
  }

  y += 8;
  doc.text("Recommendation: Academic monitoring & counseling advised if high risk.", 14, y);

  // Save PDF
  doc.save(name + "_Dropout_Report.pdf");
}


</script>

</body>
</html>